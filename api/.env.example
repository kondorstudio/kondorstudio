##############################################
# KONDOR STUDIO ‚Äî API (.env.example)
# Copiar para .env e preencher os valores.
##############################################

##############################
# üåç AMBIENTE / SERVIDOR
##############################
NODE_ENV=development
PORT=4000

##############################
# üóÑÔ∏è BANCO DE DADOS
##############################
# Exemplo para Render PostgreSQL:
# postgres://user:pass@host:5432/dbname?sslmode=require
DATABASE_URL=

##############################
# üî• REDIS / FILAS
##############################
REDIS_URL=

# ===============================
# WORKERS / JOBS (FASE 4)
# ===============================

# Intervalo de polling de alguns workers legados baseados em setTimeout
WORKER_POLL_INTERVAL=5000

# N√∫mero m√°ximo de tentativas antes de marcar um job como failed
WORKER_MAX_ATTEMPTS=5

# Per√≠odo de agrega√ß√£o de m√©tricas (ms)
METRICS_AGG_PERIOD_MS=3600000

# Per√≠odo de gera√ß√£o de relat√≥rios (ms)
REPORTS_GENERATION_PERIOD_MS=900000

# Per√≠odo de automa√ß√£o de WhatsApp (ms)
WHATSAPP_AUTOMATION_PERIOD_MS=300000

# Backoff padr√£o para jobs de m√©tricas (ms)
METRICS_BACKOFF_MS=60000

# Backoff padr√£o para jobs de relat√≥rio (ms)
REPORT_BACKOFF_MS=60000

# Backoff fixo opcional para WhatsApp (ms). Se vazio, usa backoff exponencial.
WHATSAPP_BACKOFF_MS=

##############################
# üîê JWT / AUTENTICA√á√ÉO
##############################
JWT_SECRET=
JWT_REFRESH_SECRET=
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_EXPIRES_IN=30d

##############################
# üîê MFA ADMIN (EMAIL)
##############################
SES_REGION=
SES_SOURCE_EMAIL=
MFA_CODE_TTL_MINUTES=10
MFA_MAX_ATTEMPTS=5
ADMIN_MFA_ENABLED=true

##############################
# üîê CRIPTOGRAFIA (TOKENS)
##############################
# Chave forte (m√≠n 32 chars) usada para criptografar tokens no banco (AES-256-GCM).
# N√£o coloque valor real aqui; defina no ambiente (.env/Render).
CRYPTO_KEY=

##############################
# üìä GA4 OAUTH / ANALYTICS
##############################
GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=
GOOGLE_OAUTH_REDIRECT_URI=
GOOGLE_OAUTH_SCOPES=https://www.googleapis.com/auth/analytics.readonly
# Chave 32 bytes (base64 ou hex) para criptografar refresh tokens GA4.
ENCRYPTION_KEY=
APP_URL_FRONT=
API_URL=
GA4_MOCK_MODE=false

##############################
# üåê CORS / URLS P√öBLICAS
##############################
# Lista separada por v√≠rgula (SEM ESPA√áOS)
# Exemplo: http://localhost:5173,http://localhost:4173
CORS_ORIGINS=
# Compat (legado)
CORS_ORIGIN=
PUBLIC_APP_URL=
APP_PUBLIC_URL=
# Usado para redirecionar callbacks OAuth para o painel.
APPROVAL_PUBLIC_LINK_TTL_HOURS=72

##############################
# üì¶ S3 / STORAGE
##############################
S3_ENDPOINT=
S3_BUCKET=
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=

##############################
# üí¨ WHATSAPP PROVIDER
##############################
WHATSAPP_API_URL=
WHATSAPP_API_KEY=
WHATSAPP_FROM_NUMBER=
WHATSAPP_TIMEOUT_MS=8000
WHATSAPP_PROVIDER=generic
WHATSAPP_TOKEN=
WHATSAPP_VERIFY_TOKEN=
WHATSAPP_GRAPH_API_VERSION=v17.0

##############################
# üí¨ WHATSAPP ‚Äî CLOUD API (META) (webhook + respostas diretas)
##############################
WHATSAPP_META_TOKEN=
WHATSAPP_META_PHONE_NUMBER_ID=
WHATSAPP_WABA_ID=

##############################
# üìä META / FACEBOOK ADS
##############################
META_GRAPH_BASE_URL=https://graph.facebook.com/v17.0
META_DEFAULT_FIELDS=impressions,clicks,spend
META_APP_ID=
META_APP_SECRET=
META_OAUTH_VERSION=v24.0
META_OAUTH_REDIRECT_URI=
META_SOCIAL_REDIRECT_URI=
META_ADS_REDIRECT_URI=
META_SOCIAL_SCOPES=
META_ADS_SCOPES=
META_TOKEN_REFRESH_THRESHOLD_DAYS=7
META_IG_CONTAINER_POLL_ATTEMPTS=6
META_IG_CONTAINER_POLL_DELAY_MS=4000

##############################
# üìà GOOGLE ADS
##############################
GOOGLE_ADS_API_BASE_URL=https://googleads.googleapis.com/v14
GOOGLE_ADS_DEFAULT_FIELDS=metrics.impressions,metrics.clicks,metrics.cost_micros
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

##############################
# üìù AUDIT LOG (FASE 5)
##############################
AUDIT_LOG_ENABLED=false
AUDITLOG_SKIP_REGEX=^/health(z)?$|^/health$|^/api/auth
AUDITLOG_BODY_MAX=2000

##############################
# üí≥ CHECK SUBSCRIPTION (FASE 5)
##############################
CHECK_SUBSCRIPTION_ENABLED=true

##############################
# üí≥ STRIPE
##############################
STRIPE_SECRET_KEY=

##############################
# üß∞ ADMIN SQL CONSOLE
##############################
ADMIN_SQL_ENABLED=false

##############################
# üìà TIKTOK
##############################
TIKTOK_CLIENT_KEY=
TIKTOK_CLIENT_SECRET=
