##############################################
# KONDOR STUDIO ‚Äî API (.env.example)
# Copiar para .env e preencher os valores.
##############################################

##############################
# üåç AMBIENTE / SERVIDOR
##############################
NODE_ENV=development
PORT=4000

##############################
# üóÑÔ∏è BANCO DE DADOS
##############################
# Exemplo para Render PostgreSQL:
# postgres://user:pass@host:5432/dbname?sslmode=require
DATABASE_URL=

##############################
# üî• REDIS / FILAS
##############################
REDIS_URL=

# ===============================
# WORKERS / JOBS (FASE 4)
# ===============================

# Intervalo de polling de alguns workers legados baseados em setTimeout
# (Hoje usado, por exemplo, em integrationSyncJob. Os workers BullMQ usam
# repeatable jobs e N√ÉO dependem diretamente deste valor, mas mantemos
# para compatibilidade.)
WORKER_POLL_INTERVAL=5000

# N√∫mero m√°ximo de tentativas antes de marcar um job como failed
WORKER_MAX_ATTEMPTS=5

# Per√≠odo de agrega√ß√£o de m√©tricas (ms) ‚Äî usado no agendamento da fila metrics-sync
# Exemplo: 3600000 = 1 hora
METRICS_AGG_PERIOD_MS=3600000

# Per√≠odo de gera√ß√£o de relat√≥rios (ms) ‚Äî usado no agendamento da fila reports-generation
# Exemplo: 900000 = 15 minutos
REPORTS_GENERATION_PERIOD_MS=900000

# Per√≠odo de automa√ß√£o de WhatsApp (ms) ‚Äî usado no agendamento da fila whatsapp-automation
# Exemplo: 300000 = 5 minutos
WHATSAPP_AUTOMATION_PERIOD_MS=300000

# Backoff padr√£o para jobs de m√©tricas (ms)
# Exemplo: 60000 = 1 minuto
METRICS_BACKOFF_MS=60000

# Backoff padr√£o para jobs de relat√≥rio (ms)
# Exemplo: 60000 = 1 minuto
REPORT_BACKOFF_MS=60000

# Backoff fixo opcional para WhatsApp (ms). Se vazio, usa backoff exponencial.
# Exemplo: 15000 = 15 segundos
WHATSAPP_BACKOFF_MS=

##############################
# üîê JWT / AUTENTICA√á√ÉO
##############################
JWT_SECRET=
JWT_REFRESH_SECRET=
# JWT_EXPIRES_IN=7d
# REFRESH_TOKEN_EXPIRES_IN=30d

##############################
# üåê CORS / URLS P√öBLICAS
##############################
# Lista separada por v√≠rgula (SEM ESPA√áOS)
# Exemplo:
# CORS_ORIGIN=https://app.seudominio.com,https://portal.seudominio.com
CORS_ORIGIN=

# URL p√∫blica usada em links para clientes (aprova√ß√£o, portal etc.)
PUBLIC_APP_URL=

# TTL (em horas) para links p√∫blicos de aprova√ß√£o
APPROVAL_PUBLIC_LINK_TTL_HOURS=72

##############################
# üì¶ S3 / STORAGE
##############################
S3_ENDPOINT=
S3_BUCKET=
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=

##############################
# üí¨ WHATSAPP PROVIDER
##############################
WHATSAPP_API_URL=
WHATSAPP_API_KEY=
WHATSAPP_FROM_NUMBER=
WHATSAPP_TIMEOUT_MS=8000

##############################
# üìä META / FACEBOOK ADS
##############################
META_GRAPH_BASE_URL=https://graph.facebook.com/v17.0
META_DEFAULT_FIELDS=impressions,clicks,spend

##############################
# üìà GOOGLE ADS
##############################
GOOGLE_ADS_API_BASE_URL=https://googleads.googleapis.com/v14
GOOGLE_ADS_DEFAULT_FIELDS=metrics.impressions,metrics.clicks,metrics.cost_micros

##############################
# üìù AUDIT LOG (FASE 5)
##############################
# Ativa/desativa audit log
AUDIT_LOG_ENABLED=false

# Regex das rotas que N√ÉO devem ser logadas
AUDITLOG_SKIP_REGEX=^/health(z)?$|^/health$|^/api/auth

# Tamanho m√°ximo permitido ao salvar o body
AUDITLOG_BODY_MAX=2000

##############################
# üí≥ CHECK SUBSCRIPTION (FASE 5)
##############################
# Se "false" ‚Üí middleware desativado
CHECK_SUBSCRIPTION_ENABLED=true
